<div class="container my-5">
  <div class="d-flex justify-content-between align-items-center mb-4">
    <h1 class="font-staatliches section-title1-primary">Bookings</h1>
    <span class="badge bg-primary-custom font-staatliches py-2 px-3">
      Total: <%= @bookings.count %>
    </span>
  </div>

  <%= link_to 'Products', products_path, class: 'btn btn-primary' %>
  <%= link_to 'Orders', orders_path, class: 'btn btn-primary' %>
  <%= link_to 'Messages', contacts_path, class: 'btn btn-primary' %>

  <div class="card shadow-sm border-0">
    <div class="card-body p-0">
      <div class="table-responsive">
        <table class="table table-hover align-middle mb-0">
          <thead class="bg-light font-staatliches text-muted">
            <tr>
              <th class="ps-4">Date</th>
              <th>Time</th>
              <th>Client</th>
              <th># People</th>
              <th>Email</th>
              <th class="text-center">Options</th>
            </tr>
          </thead>
          <tbody class="font-staatliches">
            <% @bookings.each do |booking| %>
              <tr class="<%= 'table-warning' if booking.date == Date.today %>">
                <td class="ps-4">
                  <div class="d-flex flex-column">
                    <span><%= booking.date&.strftime("%d/%m/%Y") || "-" %></span>
                    <% if booking.date == Date.today %>
                      <small class="text-danger fw-bold">Â¡HOY!</small>
                    <% end %>
                  </div>
                </td>
                <td><%= booking.time&.strftime("%H:%M") || "-" %></td>
                <td><%= booking.name %></td>
                <td>
                  <span class="badge rounded-pill bg-light text-dark border">
                    <i class="bi bi-people-fill"></i> <%= booking.people %>
                  </span>
                </td>
                <td class="text-muted"><%= booking.email %></td>
                <td class="text-center">
                    <%= link_to "Delete", delete_booking_path(booking), 
                                data: { turbo_method: :delete, turbo_confirm: "Are you sure you want to delete this reservation?" }, 
                                class: "btn btn-danger btn-sm" %>
                </td>
              </tr>
            <% end %>
            
            <% if @bookings.empty? %>
              <tr>
                <td colspan="6" class="text-center py-5 text-muted">
                  No hay reservas registradas por el momento.
                </td>
              </tr>
            <% end %>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>